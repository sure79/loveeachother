<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë‘ ì‚¬ëŒì˜ ìˆ˜ë¹„í•™ ê°„ë‹¨ ë¶„ì„</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

    * {
      margin: 0; 
      padding: 0; 
      box-sizing: border-box;
      font-family: 'Noto Sans KR', sans-serif;
    }
    body {
      background: #fff3f6; 
      padding: 20px; 
      line-height: 1.6;
    }
    .container {
      max-width: 800px; 
      margin: 0 auto;
      background: white; 
      padding: 30px; 
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center; 
      color: #e84393; 
      margin-bottom: 30px;
    }
    .input-section {
      text-align: center; 
      margin-bottom: 30px;
    }
    input {
      width: 80%; 
      max-width: 400px;
      padding: 15px; 
      font-size: 16px;
      border: 2px solid #ffc9d5; 
      border-radius: 10px;
      outline: none; 
      margin: 5px 0;
    }
    input:focus {
      border-color: #e84393;
    }
    button {
      display: block; 
      width: 200px; 
      margin: 20px auto; 
      padding: 15px;
      background: #e84393; 
      color: white; 
      border: none; 
      border-radius: 10px;
      cursor: pointer; 
      font-size: 16px; 
      transition: 0.3s;
    }
    button:hover {
      background: #d63384; 
      transform: translateY(-2px);
    }
    .result {
      display: none; 
      background: #fff8fa;
      padding: 25px; 
      border-radius: 10px;
      margin-top: 30px;
    }
    .analysis-box {
      background: #ffffff; 
      padding: 20px;
      margin: 20px 0; 
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .analysis-box h2 {
      color: #e84393; 
      margin-bottom: 10px;
    }
    .highlight {
      color: #e84393; 
      font-weight: bold;
    }
    .compatibility-score {
      text-align: center; 
      font-size: 22px; 
      margin: 20px 0; 
      color: #e84393;
    }
    .sub-title {
      margin: 15px 0 5px; 
      font-weight: bold; 
      color: #ad1457;
    }
    ul { 
      margin-left: 20px; 
      list-style-type: disc; 
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ’˜ ë‘ ì‚¬ëŒì˜ ìˆ˜ë¹„í•™ ê°„ë‹¨ ë¶„ì„ ğŸ’˜</h1>

    <div class="input-section">
      <div>
        <input type="text" id="userName1" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." />
      </div>
      <div>
        <input type="text" id="userName2" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." />
      </div>
      <button onclick="analyzeLoveFortune()">ê¶í•© ë¶„ì„í•˜ê¸°</button>
    </div>

    <div id="result" class="result">
      <!-- ì²« ë²ˆì§¸ ì‚¬ëŒ -->
      <div id="analysis1" class="analysis-box"></div>
      <!-- ë‘ ë²ˆì§¸ ì‚¬ëŒ -->
      <div id="analysis2" class="analysis-box"></div>
      <!-- ê¶í•© ì ìˆ˜ -->
      <div class="compatibility-score">
        ë‘ ë¶„ì˜ ê¶í•©ì ìˆ˜: <span id="compatibilityScore"></span>ì 
      </div>
      <!-- ê¶í•© í–¥ìƒ ì¡°ì–¸ -->
      <div id="compatAdviceBox" class="analysis-box"></div>
    </div>
  </div>

  <script>
    // "ì´ë¦„ â†’ ìˆ«ì" ë§¤í•‘
    const nameToNumber = {
      'ë¯¼': 2, 'ì„': 2, 'ë…¸': 2, 'ëª¨': 2, 'ì‚¼': 2, 'ë¬µ': 2, 'ë¬¸': 2, 'ë¯¸': 2, 'ëˆ„': 2, 
      'í ': 2, 'ì›€': 2, 'ì ': 2, 'ë¬´': 2, 'ê²¸': 2, 'ë¦¼': 2, 'ë§¤': 2, 'ë§¹': 2, 'ë‚˜': 2, 
      'ë‚¨': 2, 'ë§ˆ': 2, 'ëª…': 2, 'ëª©': 2,

      'ê¹€': 3, 'ê¸ˆ': 3, 'ë§‰': 3, 'ë´„': 3, 'ë‚´': 3,

      'ì„': 4, 'ë¡œ': 4, 'í•™': 4, 'ìŠ¬': 4, 'ë¼': 4, 'ì¢…': 4, 'ë£¨': 4, 'ì¼': 4, 'ì‹': 4, 
      'ë˜': 4, 'ë¡€': 4, 'ë¡': 4, 'ì†Œ': 4, 'ë¦¬': 4, 'ë§': 4, 'ë€': 4, 'ìˆ™': 4, 'ê·¼': 4, 
      'ì†”': 4, 'ìˆœ': 4,

      'íƒœ': 5, 'íƒ': 5, 'ê·œ': 5, 'ë¶„': 5, 'ë”': 5, 'ë˜': 5, 'ë§Œ': 5, 'ì—½': 5, 'í‰': 5, 
      'íš¨': 5, 'í›ˆ': 5, 'ë„': 5, 'ë‹¤': 5, 'ë´„': 5, 'ë‘”': 5, 'ë ¹': 5, 'ë´‰': 5, 'íƒ': 5, 
      'íƒ„': 5, 'ëŒ€': 5, 'ë•': 5, 'ë³´': 5, 'ë‹¨': 5, 'ë“': 5, 'ë ¨': 5, 'ìš´': 5, 'í¸': 5, 
      'ì„­': 5, 'ë³µ': 5, 'í•„': 5, 'ë‹´': 5, 'ë“¬': 5, 'ë ´': 5, 'ì—„': 5, 'í‘œ': 5, 'í¬': 5, 
      'ëˆ': 5, 'ë‘': 5, 'ê°‘': 5, 'ë‹¹': 5, 'ë”˜': 5, 'í›„': 5, 'ìš±': 5, 'íŒ½': 5,

      'ì •': 6,

      'ìµœ': 7, 'ë™': 7, 'ì°¨': 7, 'ì¶”': 7, 'ê±´': 7, 'ì±„': 7, 'í™”': 7, 'ì¢Œ': 7, 'ì°¬': 7, 
      'í•˜': 7, 'ì¤€': 7,

      'ë°•': 8, 'ê°€': 8, 'ëŒ': 8, 'í˜œ': 8, 'ëŠ˜': 8, 'í˜¸': 8, 'í•´': 8, 'ì˜ˆ': 8, 'ì¤‘': 8, 
      'ê¶': 8, 'ë£¡': 8, 'ìˆ ': 8, 'ê³½': 8, 'ê³„': 8, 'ì˜¹': 8, 'í˜': 8, 'ê°•': 8, 'ìœ¨': 8, 
      'ìš©': 8, 'ì†¡': 8, 'ì‘': 8, 'ì‚¬': 8, 'ë³‘': 8, 'ì—´': 8, 'ë¹„': 8, 'êµ°': 8, 'ë°”': 8, 
      'ì•¼': 8, 'ìœ¡': 8, 'ë°©': 8, 'ë¹™': 8, 'ê³¡': 8, 'ì–‘': 8, 'ë°±': 8, 'ìŠ¹': 8, 'ì˜¥': 8, 
      'ì„': 8, 'ìƒ': 8, 'ì˜¤': 8, 'í¥': 8, 'ê±°': 8, 'ëŠ ': 8, 'ë°˜': 8, 'ì–µ': 8, 'ë‚¨ê¶': 8, 
      'í•¨': 8, 'ë…ê³ ': 8, 'ë ¬': 8, 'ê¶Œ': 8, 'í˜•': 8, 'ì˜': 8, 'ë²”': 8, 'ê³ ': 8, 'ë°°': 8, 
      'ë‘': 8, 'ë¹›': 8, 'ê²°': 8, 'í•­': 8, 'ë°¤': 8, 'ë¶€': 8, 'ê°': 8, 'ê¶‰': 8, 'ê´€': 8, 
      'ìµ': 8, 'êµ¬': 8, 'ì• ': 8, 'ê´‘': 8, 'êµ­': 8, 'ì›…': 8, 'ì•„': 8, 'í™©': 8, 'ê³µ': 8, 
      'ë¦„': 8, 'ì‚°': 8, 'ì™•': 8, 'í™©ë³´': 8, 'ì‚¬ê³µ': 8, 'ë™ë°©': 8,

      'ìˆœ': 9, 'ì´': 9, 'ì„œ': 9, 'ì„ ': 9, 'ì—¬': 9, 'ë…€': 9, 'ì¡´': 9, 'íšŒ': 9, 'ì„ ìš°': 9, 
      'ì§€': 9, 'í–¥': 9, 'ì¥': 9, 'ì œ': 9, 'ì£¼': 9, 'ì² ': 9, 'ë‹˜': 9, 'ì œê°ˆ': 9, 'ì‹¬': 9, 
      'ì„œë¬¸': 9, 'ìˆ˜': 9, 'ì¡°': 9, 'ì¬': 9, 'ì„±': 9, 'ì': 9, 'ê¸°': 9, 'ì‹¤': 9, 'ì°°': 9, 
      'ì–´': 9, 'ìš”': 9, 'í¬': 9, 'í™': 9, 'ìœ ': 9, 'ìš°': 9, 'ì–¸': 9, 'ê·€': 9, 'ì¶˜': 9, 
      'ì„¤': 9, 'ê¸¸': 9, 'í–‰': 9, 'íœ´': 9, 'ì‹œ': 9, 'í—Œ': 9, 'ë‚­': 9, 'ì ': 9, 'í—ˆ': 9, 
      'ê°ˆ': 9,

      'ì•ˆ': 10, 'ì—°': 10, 'í™˜': 10, 'ìœ¤': 10, 'ì¸': 10, 'ë€': 10, 'ì›': 10, 'ë¹ˆ': 10, 
      'ë¡ ': 10, 'ì™„': 10, 'ì „': 10, 'ì˜¨': 10, 'ë¦°': 10, 'í•œ': 10, 'ì†': 10,

      'í˜„': 11, 'ì§„': 11, 'ê²½': 11, 'ê·¹': 11, 'ì‹ ': 11, 'ì²­': 11, 'í”¼': 11, 'ì—¼': 11, 
      'í‚¤': 11, 'ì°½': 11, 'ê°„': 11, 'ë‹·': 11, 'ì‹¬': 11, 'ì²™': 11, 'íƒ€': 11, 'ìŒ': 11, 
      'ì²œ': 11, 'ì„¸': 11, 'ê°': 11, 'ë³¸': 11, 'ì…˜': 11, 'ì²¨': 11, 'íƒ': 11, 'í’ˆ': 11, 
      'ìœ„': 11, 'ê· ': 11, 'ê²¬': 11, 'ë²¼': 11, 'ìˆ€': 11, 'ì´ˆ': 11, 'íŒŒ': 11, 'ì´': 11, 
      'ì˜': 11, 'ê²€': 11, 'ê³¤': 11, 'ë³€': 11, 'ì§': 11, 'ì¹´': 11, 'íŒ': 11, 'íœ˜': 11
    };

    // 2~11ì— ëŒ€í•œ ì •ë³´ (ì—°ì•  ì¡°ì–¸ ë“± í™•ì¥)
    const numberInfo = {
      2: {
        loveScore: 82,
        basic: "ì‹ ì¤‘í•˜ê³  ì§„ì§€í•œ ì„±í–¥",
        love: "ê¹Šì´ ìˆëŠ” ê´€ê³„ë¥¼ ì¶”êµ¬",
        style: "ì±…ì„ê° ìˆê²Œ ì²œì²œíˆ ì ‘ê·¼",
        additional: "ê³„íšì ì´ê³  ê¼¼ê¼¼í•œ í¸",
        loveAdvice: "ê°ì •ì„ ì¢€ ë” ìì£¼ í‘œí˜„í•˜ë©° ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ì•„ìš”",
        compatAdvice: "ìƒëŒ€ì˜ ì¦‰í¥ì„±ë„ ì´í•´í•´ ë³´ì„¸ìš”"
      },
      3: {
        loveScore: 85,
        basic: "ë§¤ë ¥ì ì´ê³  í’ìš”ë¡œìš´ ì„±í–¥",
        love: "ìƒëŒ€ë°©ì˜ ììœ ë¥¼ ì¡´ì¤‘",
        style: "ì˜¤ëŠ” ì‚¬ëŒ ë§‰ì§€ ì•Šê³  ê°€ëŠ” ì‚¬ëŒ ì¡ì§€ ì•ŠìŒ",
        additional: "ì˜ˆìˆ ì  ê°ê°ì´ ì¢‹ê³  ì°½ì˜ì ",
        loveAdvice: "ê´€ì‹¬ ìˆëŠ” ì‚¬ëŒì—ê²ŒëŠ” ì ê·¹ì ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ë” ì¢‹ì•„ìš”",
        compatAdvice: "ë•Œë¡œëŠ” ì•½ê°„ì˜ ì§ˆíˆ¬ì‹¬ë„ ì—°ì• ì— í™œë ¥ì„ ì¤ë‹ˆë‹¤"
      },
      4: {
        loveScore: 87,
        basic: "ë¦¬ë”ì‹­ì´ ê°•í•œ ììˆ˜ì„±ê°€í˜•",
        love: "ì±…ì„ê°ê³¼ ì§„ì¤‘í•¨ì„ ì¤‘ìš”ì‹œ",
        style: "í•œ ë²ˆ ì‹œì‘í•˜ë©´ ëê¹Œì§€ ì¶©ì‹¤",
        additional: "íƒ€ì¸ì„ ì˜ ì´ëŒì§€ë§Œ, ë¶€ë‹´ê°ë„ í¼",
        loveAdvice: "ìƒëŒ€ë°© ì˜ê²¬ì„ ì¡´ì¤‘í•˜ë©´ ë” ì¢‹ì€ ê´€ê³„ê°€ ë¼ìš”",
        compatAdvice: "ë¶€ë“œëŸ¬ìš´ ë¦¬ë”ì‹­ìœ¼ë¡œ ë” í° ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆì–´ìš”"
      },
      5: {
        loveScore: 83,
        basic: "ì§€í˜œë¡­ê³  ì¡°ì–¸ìì ì¸ ì„±í–¥",
        love: "ë¶„ì„ì ì´ê³  ì‹ ì¤‘í•œ ì—°ì• ",
        style: "ê¹Šì´ ìˆëŠ” ëŒ€í™”ì™€ ì •ì‹ ì  êµê°ì„ ì„ í˜¸",
        additional: "ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ë›°ì–´ë‚¨",
        loveAdvice: "êµ¬ì²´ì ì¸ í–‰ë™ê³¼ ì•½ì† ì´í–‰ìœ¼ë¡œ ì‹ ë¢°ë¥¼ ìŒ“ì•„ë³´ì„¸ìš”",
        compatAdvice: "ê°€ë”ì€ ê°ì •ì  í‘œí˜„ë„ ë”í•´ì£¼ë©´ ì¢‹ìŠµë‹ˆë‹¤"
      },
      6: {
        loveScore: 89,
        basic: "ë‚­ë§Œì ì´ê³  ê°ì„±ì ì¸ ì„±í–¥",
        love: "ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸",
        style: "ê°ì • êµë¥˜ë¡œ íë§ê³¼ ì•ˆì •ì„ ì£¼ê³ ë°›ìŒ",
        additional: "ì˜ˆìˆ ì  ê°ìˆ˜ì„±ì´ í’ë¶€í•¨",
        loveAdvice: "ì§€ë‚˜ì¹œ ê°ì • ì†Œëª¨ë¥¼ í”¼í•˜ê³  í˜„ì‹¤ì  ê· í˜•ì„ ì¡ì•„ë³´ì„¸ìš”",
        compatAdvice: "ì„œë¡œì˜ ê°ì„± í¬ì¸íŠ¸ë¥¼ ì˜ ë§ì¶°ì£¼ë©´ í° ì‹œë„ˆì§€"
      },
      7: {
        loveScore: 84,
        basic: "ë…ë¦½ì ì´ê³  ì§„ì·¨ì ì¸ ì„±í–¥",
        love: "ììœ ë¡­ê³  í™œë™ì ",
        style: "ì—´ì •ì ì´ê³  ì ê·¹ì ì´ë‚˜ ê³ ì§‘ì´ ìˆì„ ìˆ˜ ìˆìŒ",
        additional: "ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ í˜¸ê¸°ì‹¬ì´ ë§ìŒ",
        loveAdvice: "ìƒëŒ€ë°©ì˜ ììœ ë„ ì¡´ì¤‘í•˜ë©´ ì¶©ëŒì„ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”",
        compatAdvice: "ê³ ì§‘ì€ ì¡°ê¸ˆë§Œ ëˆ„ê·¸ëŸ¬ëœ¨ë ¤ì£¼ì„¸ìš”"
      },
      8: {
        loveScore: 81,
        basic: "ì•ˆì •ì ì´ê³  ì‹ ì¤‘í•œ ì„±í–¥",
        love: "ë¯¿ìŒì§í•˜ë©° ì„±ì‹¤í•œ ê´€ê³„ë¥¼ ì¶”êµ¬",
        style: "ëŠë¦¬ì§€ë§Œ í™•ì‹¤í•œ ì‚¬ë‘",
        additional: "ì¬ë¬¼ìš´ì´ ë¹„êµì  ì¢‹ì€ í¸",
        loveAdvice: "ë„ˆë¬´ ëŠë¦° í…œí¬ë¡œ ìƒëŒ€ë¥¼ ì§€ì¹˜ê²Œ í•˜ì§€ ì•Šë„ë¡ ë…¸ë ¥í•˜ì„¸ìš”",
        compatAdvice: "ì ê·¹ì ì¸ ì˜ì‚¬ì†Œí†µì´ ê¶í•© í–¥ìƒì— ë„ì›€ë©ë‹ˆë‹¤"
      },
      9: {
        loveScore: 90,
        basic: "ì§€ì ì´ê³  ë…ë¦½ì ì¸ ì„±í–¥",
        love: "ê¹Šì´ ìˆê³  ì§‘ì¤‘ì ì¸ ì‚¬ë‘",
        style: "ê²°ê³¼ë‚˜ ê´€ê³„ì— ëŒ€í•œ ì§‘ì°©ì´ ìˆì„ ìˆ˜ ìˆìŒ",
        additional: "í†µì°°ë ¥ì´ ë›°ì–´ë‚¨",
        loveAdvice: "ì†Œí†µì„ í†µí•´ ìƒëŒ€ê°€ ìˆ¨ ì‰´ ê³µê°„ë„ ì¡´ì¤‘í•´ ì£¼ì„¸ìš”",
        compatAdvice: "ì§€ë‚˜ì¹œ ì§‘ì°©ë³´ë‹¤ëŠ” ìœ ì—°í•¨ì„ í‚¤ìš°ë©´ ê¶í•© ìƒìŠ¹"
      },
      10: {
        loveScore: 88,
        basic: "ê°ì„±ì ì´ê³  ë³€í™”ë¬´ìŒí•œ ì„±í–¥",
        love: "ê°ì • ê¸°ë³µì´ ì»¤ì„œ íŒŒë„ê°€ ìˆëŠ” ì—°ì• ",
        style: "ì—´ì •ì ì´ì§€ë§Œ ë³€ë•ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆìŒ",
        additional: "ê²°ì •ì  ìˆœê°„ì— ê°•í•œ ì¶”ì§„ë ¥",
        loveAdvice: "ê°ì • ê¸°ë³µì„ ì¡°ì ˆí•˜ê³  ì•ˆì •ê°ì„ ì£¼ë©´ ë” ì¢‹ìŠµë‹ˆë‹¤",
        compatAdvice: "ì„œë¡œì˜ ê°ì • ë³€í™”ë¥¼ ì´í•´í•˜ê³  ë³´ë“¬ì–´ ì£¼ì„¸ìš”"
      },
      11: {
        loveScore: 86,
        basic: "ì •ì˜ë¡­ê³  ê· í˜• ì¡íŒ ì„±í–¥",
        love: "ê³µí‰í•˜ê³  ì´ì„±ì ",
        style: "í‰ë“±í•œ give & takeë¥¼ ì„ í˜¸",
        additional: "ìŠ¤ìŠ¤ë¡œì—ê²Œ ë„ˆë¬´ ì—„ê²©í•  ë•Œê°€ ìˆìŒ",
        loveAdvice: "ì™„ë²½ì„ ì¶”êµ¬í•˜ê¸°ë³´ë‹¤ ê°ì •ì  êµê°ë„ ì‹œë„í•˜ì„¸ìš”",
        compatAdvice: "ìƒëŒ€ë°©ì„ ë°°ë ¤í•˜ëŠ” ìœ ì—°ì„±ìœ¼ë¡œ ê¶í•©ì´ ë†’ì•„ì§‘ë‹ˆë‹¤"
      }
    };

    // ì´ë¦„ -> ë²ˆí˜¸ ë°°ì—´
    function getNumberArray(fullName) {
      const arr = [];
      for (let ch of fullName) {
        if (nameToNumber[ch] !== undefined) {
          arr.push(nameToNumber[ch]);
        }
      }
      return arr;
    }

    // ë²ˆí˜¸ ë°°ì—´ -> ìš”ì•½(3~4ë¬¸ì¥), ì• ì •ì ìˆ˜(í‰ê· ), ì—°ì•  ì¡°ì–¸(í•©ì¹¨), ê¶í•© ì¡°ì–¸(í•©ì¹¨)
    function getCombinedResult(numbers) {
      if (!numbers.length) return null;

      let totalScore = 0;
      let basics = [];
      let loves = [];
      let styles = [];
      let addls = [];
      let loveAdviceArr = [];
      let compatAdviceArr = [];

      numbers.forEach(num => {
        const info = numberInfo[num];
        if (info) {
          totalScore += info.loveScore;
          basics.push(info.basic);
          loves.push(info.love);
          styles.push(info.style);
          addls.push(info.additional);
          loveAdviceArr.push(info.loveAdvice);
          compatAdviceArr.push(info.compatAdvice);
        }
      });

      // í‰ê·  ì ìˆ˜
      const avgScore = Math.round(totalScore / numbers.length);

      // ì¤‘ë³µ ì œê±° (ì›í•œë‹¤ë©´ ê·¸ëŒ€ë¡œ ì¤‘ë³µ í—ˆìš© ê°€ëŠ¥)
      const setBasic = Array.from(new Set(basics));
      const setLove = Array.from(new Set(loves));
      const setStyle = Array.from(new Set(styles));
      const setAddl = Array.from(new Set(addls));
      const setLoveAdv = Array.from(new Set(loveAdviceArr));
      const setCompatAdv = Array.from(new Set(compatAdviceArr));

      // ê°„ë‹¨ ìš”ì•½ (3~4ë¬¸ì¥)
      const sentence1 = `ì „ì²´ì ìœ¼ë¡œ ${setBasic.join(", ")} ë©´ì„ ë³´ì´ë©´ì„œ,`;
      const sentence2 = `${setLove.join(", ")} ì—°ì• ê´€ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤.`;
      const sentence3 = `ë˜í•œ ${setStyle.join(", ")} íŠ¹ì„±ì´ ìˆìœ¼ë©°,`;
      const sentence4 = `${setAddl.join(", ")} ë©´ë„ ëˆˆì— ë•ë‹ˆë‹¤.`;
      const summaryText = `${sentence1} ${sentence2} ${sentence3} ${sentence4}`;

      return {
        avgScore,
        summaryText,
        loveAdviceList: setLoveAdv,
        compatAdviceList: setCompatAdv
      };
    }

    // ê¶í•©ì ìˆ˜ (ì• ì •ì ìˆ˜ ì°¨ì´ Ã— 5), ìµœì†Œ 50
    function getCompatibility(scoreA, scoreB) {
      let diff = Math.abs(scoreA - scoreB);
      let val = 100 - diff * 5;
      if (val < 50) val = 50;
      return val;
    }

    function analyzeLoveFortune() {
      const name1 = document.getElementById('userName1').value.trim();
      const name2 = document.getElementById('userName2').value.trim();
      if (!name1 || !name2) {
        alert('ë‘ ì‚¬ëŒì˜ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        return;
      }

      // ì²« ë²ˆì§¸ ì‚¬ëŒ
      const arr1 = getNumberArray(name1);
      if (!arr1.length) {
        alert(`[${name1}]ì€(ëŠ”) ë¶„ì„í•  ìˆ˜ ì—†ëŠ” ì´ë¦„ì…ë‹ˆë‹¤.`);
        return;
      }
      const result1 = getCombinedResult(arr1);
      if (!result1) {
        alert(`[${name1}]ì— ëŒ€í•œ ë¶„ì„ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.`);
        return;
      }

      // ë‘ ë²ˆì§¸ ì‚¬ëŒ
      const arr2 = getNumberArray(name2);
      if (!arr2.length) {
        alert(`[${name2}]ì€(ëŠ”) ë¶„ì„í•  ìˆ˜ ì—†ëŠ” ì´ë¦„ì…ë‹ˆë‹¤.`);
        return;
      }
      const result2 = getCombinedResult(arr2);
      if (!result2) {
        alert(`[${name2}]ì— ëŒ€í•œ ë¶„ì„ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.`);
        return;
      }

      // ê¶í•©ì ìˆ˜
      const compScore = getCompatibility(result1.avgScore, result2.avgScore);

      // ê²°ê³¼ DOM ë°˜ì˜
      document.getElementById('result').style.display = 'block';

      // ì²« ì‚¬ëŒ
      document.getElementById('analysis1').innerHTML = `
        <h2>${name1} ë‹˜</h2>
        <p><strong>ì• ì •ì ìˆ˜:</strong> <span class="highlight">${result1.avgScore}ì </span></p>
        <p>${result1.summaryText}</p>
        <div class="sub-title">ì—°ì•  ì¡°ì–¸</div>
        <ul>
          ${result1.loveAdviceList.map(ad => `<li>${ad}</li>`).join("")}
        </ul>
      `;

      // ë‘ ì‚¬ëŒ
      document.getElementById('analysis2').innerHTML = `
        <h2>${name2} ë‹˜</h2>
        <p><strong>ì• ì •ì ìˆ˜:</strong> <span class="highlight">${result2.avgScore}ì </span></p>
        <p>${result2.summaryText}</p>
        <div class="sub-title">ì—°ì•  ì¡°ì–¸</div>
        <ul>
          ${result2.loveAdviceList.map(ad => `<li>${ad}</li>`).join("")}
        </ul>
      `;

      // ê¶í•©ì ìˆ˜
      document.getElementById('compatibilityScore').textContent = compScore;

      // ë‘ ì‚¬ëŒ 'ê¶í•© í–¥ìƒ' ì¡°ì–¸(ì„œë¡œì˜ compatAdvice í•©ì¹¨)
      const combinedCompatAdvice = [
        ...result1.compatAdviceList,
        ...result2.compatAdviceList
      ];
      const uniqueCompatAdvice = Array.from(new Set(combinedCompatAdvice));

      document.getElementById('compatAdviceBox').innerHTML = `
        <h2>ê¶í•© í–¥ìƒ ì¡°ì–¸</h2>
        <ul>
          ${uniqueCompatAdvice.map(ad => `<li>${ad}</li>`).join("")}
        </ul>
      `;
    }
  </script>
</body>
</html>
