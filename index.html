<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ìˆ˜ë¹„í•™ ê¶í•© ë¶„ì„</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Noto Sans KR', sans-serif;
    }
    body {
      background: #fff3f6;
      padding: 20px;
      line-height: 1.6;
      /* í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ê³ ì •ìš© */
      min-height: 100vh;
      position: relative;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      margin-bottom: 100px; /* í•˜ë‹¨ ë²„íŠ¼ ê³µê°„ í™•ë³´ */
    }
    h1 {
      text-align: center;
      color: #e84393;
      margin-bottom: 30px;
    }
    .input-section {
      text-align: center;
      margin-bottom: 30px;
    }
    input {
      width: 80%;
      max-width: 400px;
      padding: 15px;
      font-size: 16px;
      border: 2px solid #ffc9d5;
      border-radius: 10px;
      outline: none;
      margin: 5px 0;
    }
    input:focus {
      border-color: #e84393;
    }
    button {
      display: block;
      width: 200px;
      margin: 20px auto;
      padding: 15px;
      background: #e84393;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
    }
    button:hover {
      background: #d63384;
      transform: translateY(-2px);
    }
    .result {
      display: none;
      background: #fff8fa;
      padding: 25px;
      border-radius: 10px;
      margin-top: 30px;
    }

    /* ê¶í•© ì ìˆ˜ í¬ê²Œ í‘œì‹œ, ìƒë‹¨ ë°°ì¹˜ */
    .compatibility-score {
      text-align: center;
      font-size: 28px;
      margin: 20px 0;
      color: #e84393;
      font-weight: bold;
    }

    .analysis-box {
      background: #ffffff;
      padding: 20px;
      margin: 20px 0;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .analysis-box h2 {
      color: #e84393;
      margin-bottom: 10px;
    }
    .highlight {
      color: #e84393;
      font-weight: bold;
    }
    .sub-title {
      margin: 15px 0 5px;
      font-weight: bold;
      color: #ad1457;
    }
    ul {
      margin-left: 20px;
      list-style-type: disc;
    }

    /* ê¹€êµ¬ë¼ í†¤ ì½”ë©˜íŠ¸ */
    .kimgura-comment {
      background: #fff2f7;
      border-left: 5px solid #e84393;
      padding: 15px;
      margin-top: 20px;
      border-radius: 8px;
      color: #ad1457;
      font-style: italic;
      line-height: 1.5;
    }

    /* ì¬íšŒ ì§€ì¹¨ì„œ */
    .reunion-box {
      background: #ffffff;
      margin: 20px 0;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      padding: 20px;
    }
    .reunion-title {
      color: #e84393;
      margin-bottom: 10px;
    }
    .reunion-score {
      text-align: center;
      font-size: 20px;
      margin: 10px 0;
      color: #d63384;
    }
    .reunion-comment {
      margin-top: 10px;
      font-style: italic;
      color: #ad1457;
    }

    /* í•˜ë‹¨ ë²„íŠ¼ë“¤(ìì‚¬ëª°, ì¸ìŠ¤íƒ€, ì¹´í†¡ì±„ë„) */
    .bottom-btns-container {
      position: fixed;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 999;
    }
    .mall-btn, .insta-btn, .kakao-btn {
      display: inline-block;
      text-decoration: none;
      background: #FEE500; /* ì›í•˜ëŠ” ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥ */
      color: #000;
      padding: 15px 20px;
      border-radius: 6px;
      font-size: 16px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
    }
    /* ê° ë²„íŠ¼ì— ë‹¤ë¥¸ ìƒ‰ìƒ ì£¼ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ê°ê° ì§€ì • ê°€ëŠ¥
       (ì—¬ê¸°ì„œëŠ” ì¼ë‹¨ ëª¨ë‘ ê°™ì€ ë°°ê²½ìƒ‰) */
    .mall-btn {
      background: #ffd6e0; /* ìì‚¬ëª° ë²„íŠ¼ ìƒ‰ìƒ (ì˜ˆì‹œ) */
    }
    .insta-btn {
      background: #c5efff; /* ì¸ìŠ¤íƒ€ ë²„íŠ¼ ìƒ‰ìƒ (ì˜ˆì‹œ) */
    }
    .kakao-btn {
      background: #FEE500; /* ì¹´ì¹´ì˜¤ì±„ë„ ë²„íŠ¼ ìƒ‰ìƒ(ë…¸ë€ìƒ‰) */
    }

    @media (max-width: 768px) {
      .mall-btn, .insta-btn, .kakao-btn {
        padding: 12px 15px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ’˜ìˆ˜ë¹„í•™ ì• ì •/ê¶í•© ë¶„ì„ğŸ’˜</h1>
    <center><p> ê¶í•©ì„ ë³´ê³  ì‹¶ì€ ë‘ì‚¬ëŒì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì‹œë©´ ë˜ìš”. ë„ˆë¬´ ë†€ë¼ì§€ ë§ˆì„¸ìš”. </p></center>

    <div class="input-section">
      <div>
        <input type="text" id="userName1" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." />
      </div>
      <div>
        <input type="text" id="userName2" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." />
      </div>
      <button onclick="analyzeLoveFortune()">ê¶í•© ë¶„ì„í•˜ê¸°</button>
    </div>

    <div id="result" class="result">
      <!-- ê¶í•© ì ìˆ˜ (ìƒë‹¨, í¬ê²Œ) -->
      <div class="compatibility-score">
        ë‘ ë¶„ì˜ ê¶í•©ì ìˆ˜: <span id="compatibilityScore"></span>ì 
      </div>

      <!-- ì²« ë²ˆì§¸ ì‚¬ëŒ ë¶„ì„ -->
      <div id="analysis1" class="analysis-box"></div>
      <!-- ë‘ ë²ˆì§¸ ì‚¬ëŒ ë¶„ì„ -->
      <div id="analysis2" class="analysis-box"></div>

      <!-- ê¶í•© í–¥ìƒ ì¡°ì–¸ -->
      <div id="compatAdviceBox" class="analysis-box"></div>

      <!-- ì¬íšŒ ê°€ëŠ¥ì„± & ì§€ì¹¨ì„œ -->
      <div id="reunionBox" class="reunion-box">
        <h2 class="reunion-title">ì¬íšŒ ê°€ëŠ¥ì„± & ì§€ì¹¨ì„œ</h2>
        <div class="reunion-score">
          ì¬íšŒ í™•ë¥ : <span id="reunionScore"></span>%
        </div>
        <div id="reunionAdvice" class="reunion-comment"></div>
      </div>

      <!-- ê¹€êµ¬ë¼ í†¤ ì½”ë©˜íŠ¸ -->
      <div id="kimguraComment" class="kimgura-comment"></div>
    </div>
  </div>

  <!-- í•˜ë‹¨ ë²„íŠ¼ 3ê°œ: ìì‚¬ëª°, ì¸ìŠ¤íƒ€, ì¹´ì¹´ì˜¤ì±„ë„ -->
  <div class="bottom-btns-container">
    <!-- ì‹¤ì œ URLì€ ì§ì ‘ ìˆ˜ì •í•´ì„œ ë„£ìœ¼ì„¸ìš” -->
    <a href="https://niceple.com/" target="_blank" class="mall-btn">ìˆ˜ë¹„í•™ìì‚¬ëª°</a>
    <a href="https://www.instagram.com/niceple_tarot/" target="_blank" class="insta-btn">ì¸ìŠ¤íƒ€ê·¸ë¨</a>
    <a href="https://pf.kakao.com/_Cgxcdn" target="_blank" class="kakao-btn">ì¹´ì¹´ì˜¤í†¡ì±„ë„</a>
  </div>

  <script>
    /***********************************************************************
     * "ì´ë¦„ â†’ ìˆ«ì" ë§¤í•‘ (2~11ë²ˆ)
     ***********************************************************************/
    const nameToNumber = {
      'ë¯¼': 2, 'ì„': 2, 'ë…¸': 2, 'ëª¨': 2, 'ì‚¼': 2, 'ë¬µ': 2, 'ë¬¸': 2, 'ë¯¸': 2, 'ëˆ„': 2, 
      'í ': 2, 'ì›€': 2, 'ì ': 2, 'ë¬´': 2, 'ê²¸': 2, 'ë¦¼': 2, 'ë§¤': 2, 'ë§¹': 2, 'ë‚˜': 2, 
      'ë‚¨': 2, 'ë§ˆ': 2, 'ëª…': 2, 'ëª©': 2,

      'ê¹€': 3, 'ê¸ˆ': 3, 'ë§‰': 3, 'ë´„': 3, 'ë‚´': 3,

      'ì„': 4, 'ë¡œ': 4, 'í•™': 4, 'ìŠ¬': 4, 'ë¼': 4, 'ì¢…': 4, 'ë£¨': 4, 'ì¼': 4, 'ì‹': 4, 
      'ë˜': 4, 'ë¡€': 4, 'ë¡': 4, 'ì†Œ': 4, 'ë¦¬': 4, 'ë§': 4, 'ë€': 4, 'ìˆ™': 4, 'ê·¼': 4, 
      'ì†”': 4, 'ìˆœ': 4,

      'íƒœ': 5, 'íƒ': 5, 'ê·œ': 5, 'ë¶„': 5, 'ë”': 5, 'ë˜': 5, 'ë§Œ': 5, 'ì—½': 5, 'í‰': 5, 
      'íš¨': 5, 'í›ˆ': 5, 'ë„': 5, 'ë‹¤': 5, 'ë‘”': 5, 'ë ¹': 5, 'ë´‰': 5, 'íƒ': 5, 'íƒ„': 5, 
      'ëŒ€': 5, 'ë•': 5, 'ë³´': 5, 'ë‹¨': 5, 'ë“': 5, 'ë ¨': 5, 'ìš´': 5, 'í¸': 5, 'ì„­': 5, 
      'ë³µ': 5, 'í•„': 5, 'ë‹´': 5, 'ë“¬': 5, 'ë ´': 5, 'ì—„': 5, 'í‘œ': 5, 'í¬': 5, 'ëˆ': 5, 
      'ë‘': 5, 'ê°‘': 5, 'ë‹¹': 5, 'ë”˜': 5, 'í›„': 5, 'ìš±': 5, 'íŒ½': 5,

      'ì •': 6,

      'ìµœ': 7, 'ë™': 7, 'ì°¨': 7, 'ì¶”': 7, 'ê±´': 7, 'ì±„': 7, 'í™”': 7, 'ì¢Œ': 7, 'ì°¬': 7, 
      'í•˜': 7, 'ì¤€': 7,

      'ë°•': 8, 'ê°€': 8, 'ëŒ': 8, 'í˜œ': 8, 'ëŠ˜': 8, 'í˜¸': 8, 'í•´': 8, 'ì˜ˆ': 8, 'ì¤‘': 8, 
      'ê¶': 8, 'ë£¡': 8, 'ìˆ ': 8, 'ê³½': 8, 'ê³„': 8, 'ì˜¹': 8, 'í˜': 8, 'ê°•': 8, 'ìœ¨': 8, 
      'ìš©': 8, 'ì†¡': 8, 'ì‘': 8, 'ì‚¬': 8, 'ë³‘': 8, 'ì—´': 8, 'ë¹„': 8, 'êµ°': 8, 'ë°”': 8, 
      'ì•¼': 8, 'ìœ¡': 8, 'ë°©': 8, 'ë¹™': 8, 'ê³¡': 8, 'ì–‘': 8, 'ë°±': 8, 'ìŠ¹': 8, 'ì˜¥': 8, 
      'ì„': 8, 'ìƒ': 8, 'ì˜¤': 8, 'í¥': 8, 'ê±°': 8, 'ëŠ ': 8, 'ë°˜': 8, 'ì–µ': 8, 'ë‚¨ê¶': 8, 
      'í•¨': 8, 'ë…ê³ ': 8, 'ë ¬': 8, 'ê¶Œ': 8, 'í˜•': 8, 'ì˜': 8, 'ë²”': 8, 'ê³ ': 8, 'ë°°': 8, 
      'ë‘': 8, 'ë¹›': 8, 'ê²°': 8, 'í•­': 8, 'ë°¤': 8, 'ë¶€': 8, 'ê°': 8, 'ê¶‰': 8, 'ê´€': 8, 
      'ìµ': 8, 'êµ¬': 8, 'ì• ': 8, 'ê´‘': 8, 'êµ­': 8, 'ì›…': 8, 'ì•„': 8, 'í™©': 8, 'ê³µ': 8, 
      'ë¦„': 8, 'ì‚°': 8, 'ì™•': 8, 'í™©ë³´': 8, 'ì‚¬ê³µ': 8, 'ë™ë°©': 8,

      'ìˆœ': 9, 'ì´': 9, 'ì„œ': 9, 'ì„ ': 9, 'ì—¬': 9, 'ë…€': 9, 'ì¡´': 9, 'íšŒ': 9, 'ì„ ìš°': 9, 
      'ì§€': 9, 'í–¥': 9, 'ì¥': 9, 'ì œ': 9, 'ì£¼': 9, 'ì² ': 9, 'ë‹˜': 9, 'ì œê°ˆ': 9, 'ì‹¬': 9, 
      'ì„œë¬¸': 9, 'ìˆ˜': 9, 'ì¡°': 9, 'ì¬': 9, 'ì„±': 9, 'ì': 9, 'ê¸°': 9, 'ì‹¤': 9, 'ì°°': 9, 
      'ì–´': 9, 'ìš”': 9, 'í¬': 9, 'í™': 9, 'ìœ ': 9, 'ìš°': 9, 'ì–¸': 9, 'ê·€': 9, 'ì¶˜': 9, 
      'ì„¤': 9, 'ê¸¸': 9, 'í–‰': 9, 'íœ´': 9, 'ì‹œ': 9, 'í—Œ': 9, 'ë‚­': 9, 'ì ': 9, 'í—ˆ': 9, 
      'ê°ˆ': 9,

      'ì•ˆ': 10, 'ì—°': 10, 'í™˜': 10, 'ìœ¤': 10, 'ì¸': 10, 'ë€': 10, 'ì›': 10, 'ë¹ˆ': 10, 
      'ë¡ ': 10, 'ì™„': 10, 'ì „': 10, 'ì˜¨': 10, 'ë¦°': 10, 'í•œ': 10, 'ì†': 10,

      'í˜„': 11, 'ì§„': 11, 'ê²½': 11, 'ê·¹': 11, 'ì‹ ': 11, 'ì²­': 11, 'í”¼': 11, 'ì—¼': 11, 
      'í‚¤': 11, 'ì°½': 11, 'ê°„': 11, 'ë‹·': 11, 'ì‹¬': 11, 'ì²™': 11, 'íƒ€': 11, 'ìŒ': 11, 
      'ì²œ': 11, 'ì„¸': 11, 'ê°': 11, 'ë³¸': 11, 'ì…˜': 11, 'ì²¨': 11, 'íƒ': 11, 'í’ˆ': 11, 
      'ìœ„': 11, 'ê· ': 11, 'ê²¬': 11, 'ë²¼': 11, 'ìˆ€': 11, 'ì´ˆ': 11, 'íŒŒ': 11, 'ì´': 11, 
      'ì˜': 11, 'ê²€': 11, 'ê³¤': 11, 'ë³€': 11, 'ì§': 11, 'ì¹´': 11, 'íŒ': 11, 'íœ˜': 11
    };

    /***********************************************************************
     * ê° ë²ˆí˜¸ë³„ ì •ë³´(ì½”ë¯¹í•œ ê¹€êµ¬ë¼ í†¤)
     ***********************************************************************/
    const numberInfo = { 
         2: {
        loveScore: 82,
        basic: "ì‹ ì¤‘+ì§„ì§€, ì¡°ìš©íˆ ì†íƒœìš°ëŠ” íƒ€ì…",
        love: "ê¹Šì´ íŒŒê³ ë“œëŠ” ëŠë‚Œìœ¼ë¡œ ì§„í–‰",
        style: "ì²œì²œíˆ ì ‘ê·¼í•˜ì§€ë§Œ í•œë²ˆ ê½‚íˆë©´ ì˜¤ë˜ê°",
        additional: "ì˜ì™¸ë¡œ ê³„íšì ì´ë¼ ëª°ë˜ ì¤€ë¹„ ì˜í•´ë†“ìŒ",
        loveAdviceArr: [
          "ê°ì •ì„ ê½ê½ ìˆ¨ê¸°ì§€ ë§ê³  ì¡°ê¸ˆë§Œ í’€ì–´ë´ìš”! ë‹µë‹µí•˜ë‹¤~",
          "ì¡°ìš©íˆ ëˆˆì¹˜ë§Œ ë³´ì§€ ë§ê³  ì°”ëŸ¬ë³¼ ë• ì°Œë¥´ì, ì´ê±°ì—ìš”~"
        ],
        compatAdviceArr: [
          "ìƒëŒ€ê°€ ìŠ¤í”¼ë””í•˜ë©´ ì¢€ë§Œ ë” ì†ë„ ë§ì¶°ì£¼ë©´ êµ¿!",
          "ëˆˆì¹˜ ì±™ê¸°ë‹¤ê°€ ê¸°íšŒë¥¼ ë†“ì¹˜ë©´ ê·¸ë§Œí¼ ì†í•´!"
        ]
      },
      3: {
        loveScore: 85,
        basic: "ë§¤ë ¥ ì² ì² , í’ìš”ë¡œìš´ ë¼ìŸì´",
        love: "ìƒëŒ€ ììœ ë¥¼ ë³´ì¥í•˜ë©° ë°€ë‹¹ì—ë„ ê´€ëŒ€í•œ í¸",
        style: "ì˜¤ëŠ” ì‚¬ëŒ ë§‰ì§€ ì•Šê³ , ê°€ëŠ” ì‚¬ëŒ ë¶™ì¡ì§€ ì•ŠìŒ",
        additional: "ì˜ˆìˆ ê°ê°ê³¼ ì°½ì˜ë ¥ ë§Œë ™?",
        loveAdviceArr: [
          "ì—´ë¦° ë§ˆìŒë„ ì¢‹ì§€ë§Œ, ê°€ë”ì€ ì†”ì§í•˜ê²Œ ì• ì • í‘œí˜„!",
          "ì§‘ì°©ë„ ì¡°ê¸ˆì€ ì–‘ë…ì´ ë˜ë‹ˆ, ê·¸ëƒ¥ ì¿¨ë§Œ í•˜ì§€ ë§™ì‹œë‹¤!"
        ],
        compatAdviceArr: [
          "ìƒëŒ€ë°© ì·¨í–¥ ì¡´ì¤‘+ê°€ë²¼ìš´ ë°ì´íŠ¸ë¡œ ì¦ê±°ì›€ ë§Œë•…!",
          "ì›ƒê³  ë– ë“œëŠ” ë¶„ìœ„ê¸° ì¡°ì„±ì— ìµœì ì„!"
        ]
      },
      4: {
        loveScore: 87,
        basic: "ë¦¬ë”ì‹­ ë¿œë¿œ, ì±…ì„ê° ê°•í•¨",
        love: "í•œë²ˆ ì‹œì‘í•˜ë©´ ëê¹Œì§€ í•´ë³´ë ¤ëŠ” ìŠ¤íƒ€ì¼",
        style: "ì£¼ë„ê¶Œ ì¥ê³  ì‹¶ì–´í•˜ëŠ” ì„±í–¥ ìˆìŒ",
        additional: "íƒ€ì¸ì„ ëŒê³  ê°€ëŠ” í˜ì€ ì¢‹ì§€ë§Œ ê°€ë” ì§€ë‚˜ì¹¨",
        loveAdviceArr: [
          "ë„ˆë¬´ ì£¼ë„ë§Œ í•˜ë©´ ìƒëŒ€ê°€ ì§ˆë ¤í•´ìš”, ë°°ë ¤ ì¢€ í•©ì‹œë‹¤ì‰?",
          "ë¦¬ë”ì‹­ë„ ì¢‹ì§€ë§Œ í¥ì´ ì•ˆ ì‚´ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ë¶€ë“œëŸ½ê²Œ ê°€ìš”!"
        ],
        compatAdviceArr: [
          "ë‚´ ì˜ê²¬ë„ ë§ì§€ë§Œ ìƒëŒ€ ì˜ê²¬ë„ ì¡´ì¤‘í•´ì„œ ê· í˜• ë§ì¶”ê¸°!",
          "í•¨ê»˜ ì†Œì†Œí•œ ì˜ì‚¬ê²°ì •ë¶€í„° ì˜ë…¼í•´ë³´ë©´ ìœ ëŒ€ê° ì‘¥ì‘¥!"
        ]
      },
      5: {
        loveScore: 83,
        basic: "ì§€í˜œë¡­ê³  ë¶„ì„ ì˜í•˜ëŠ” íƒ€ì…",
        love: "ë‘ë‡Œ íšŒì „ ë¹ ë¥¸ ì—°ì• , ì‹ ì¤‘í•˜ì§€ë§Œ ê¹Šì´ ìˆìŒ",
        style: "í† ë¡  ì¢‹ì•„í•˜ê³ , ê°ì • êµë¥˜ë„ ì€ê·¼ ì¤‘ìš”",
        additional: "ë¬¸ì œ í„°ì§€ë©´ í•´ê²°ì‚¬ í¬ì§€ì…˜",
        loveAdviceArr: [
          "ì´ë¡ ë§Œ ê¹”ë”í•´ì„  ì‚¬ëŒ ë§ˆìŒ ëª» ì–»ì–´ìš”! ê°ì • í‘œí˜„ í•„ìˆ˜!",
          "ì•½ì† í•œ ê±°ëŠ” ë°˜ë“œì‹œ ì§€í‚¤ëŠ” ëª¨ìŠµì´ ë§¤ë ¥ ìƒìŠ¹ í¬ì¸íŠ¸!"
        ],
        compatAdviceArr: [
          "ì„œë¡œ ì•„ì´ë””ì–´ ë‚´ê³  íƒ€í˜‘ì  ì°¾ê¸°, ê½¤ ì˜ ë§ìŒ!",
          "ê°€ë” ì¦‰í¥ ë°ì´íŠ¸ë¡œ ë¨¸ë¦¬ ì‹í˜€ë³´ëŠ” ê²ƒë„ êµ¿!"
        ]
      },
      6: {
        loveScore: 89,
        basic: "ë‚­ë§Œ+ê°ì„±ì˜ ëíŒì™•",
        love: "ë¡œë§¨í‹±ìœ¼ë¡œ ì‹œì‘í•´ ê°ì„± íŒŒë„ë¥¼ íƒ",
        style: "ì„œë¡œ íë§í•˜ëŠ” ì‚¬ë‘ì„ ì¶”êµ¬",
        additional: "ëˆˆë¬¼ ë§ê³  ì˜ˆìˆ í˜¼ ì¶©ë§Œ, ë“œë¼ë§ˆ ì°ë‚˜?",
        loveAdviceArr: [
          "ì§€ë‚˜ì¹œ ê°ì„± ì†Œë¹„ë¡œ ì§€ì¹˜ì§€ ë§ê³ , í˜„ì‹¤ë„ ì±™ê¹ì‹œë‹¤!",
          "ê°€ë”ì€ êµ¬ë¦„ì—ì„œ ë‚´ë ¤ì™€ ì§€ìƒë„ ì¢€ ë´ì•¼ í•´ìš”!"
        ],
        compatAdviceArr: [
          "ìƒëŒ€ ê°ì„±ë„ ì¶©ë¶„íˆ ê³µê°í•´ì£¼ë©´ í•˜íŠ¸ ë¿…ë¿…!",
          "ë¶„ìœ„ê¸° ë©”ì´ì»¤? ì´ë²¤íŠ¸ í•œ ë°©ì´ë©´ ë ˆì „ë“œ ê°~"
        ]
      },
      7: {
        loveScore: 84,
        basic: "ë…ë¦½+ì§„ì·¨, ììœ ë„ë¥¼ ì¢‹ì•„í•¨",
        love: "í™œë™ì„± ë†’ì€ ì—°ì• , ê³ ì§‘ë„ ì¢€ ìˆìŒ",
        style: "ì—´ì •ì  ì ‘ê·¼ í›„, ì„±ê²©ì´ ì•ˆ ë§ìœ¼ë©´ í›„í‡´ ë¹ ë¦„",
        additional: "ìƒˆë¡œìš´ ì¼Â·ì·¨ë¯¸ ë„ì „ ìš•êµ¬ ì¶©ë§Œ",
        loveAdviceArr: [
          "ê³ ì§‘ë§Œ ì¡°ê¸ˆ ë¹¼ë©´ í›¨ì”¬ ë§¤ë ¥ 2ë°° ë©ë‹ˆë‹¤!",
          "ìƒëŒ€ê°€ ìˆ¨ë§‰í ì •ë„ë¡œ ëŒê³  ê°€ì§€ ë§ì•„ì£¼ì„¸ìš”!"
        ],
        compatAdviceArr: [
          "í•¨ê»˜ ëª¨í—˜Â·ì—¬í–‰Â·ì·¨ë¯¸ ë“± í•˜ë©´ ì°°ë–¡ ì¼€ë¯¸!",
          "ë„ˆë¬´ ë°©ë°© ë›°ë©´ ìƒëŒ€ í˜ë“¤ì–´ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì¡°ì ˆ!"
        ]
      },
      8: {
        loveScore: 81,
        basic: "ì•ˆì •ì„±+ì‹ ì¤‘í•¨",
        love: "ë¯¿ìŒì§í•˜ì§€ë§Œ í…œí¬ê°€ ëŠë ¤ì„œ ìƒëŒ€ ì§€ì¹  ìˆ˜ë„",
        style: "ëŠë¦¬ì§€ë§Œ ê¼¼ê¼¼í•œ ì ‘ê·¼",
        additional: "ì¬ë¬¼ìš´ ê´œì°®ì•„ ë³´ì´ë„¤? ë¶€ëŸ½!",
        loveAdviceArr: [
          "ë„ˆë¬´ ëŠê¸‹í•˜ë©´ ì‚¬ë‘ë„ ë– ë‚˜ìš”! ì†ë„ë¥¼ ì¢€ ë‚´ë³´ì!",
          "ì‘ì€ ì´ë²¤íŠ¸ í•˜ë‚˜ë¡œ í™• ì ìˆ˜ ë”¸ ìˆ˜ ìˆì–´ìš”!"
        ],
        compatAdviceArr: [
          "ì£¼ì € ë§ê³  ëŒ€í™” ë¨¼ì € ì‹œë„! ì˜ì™¸ë¡œ ì˜ í’€ë¦¼",
          "ìƒëŒ€ê°€ ë¹ ë¥´ë©´ ë‚´ê°€ ë§ì¶°ì£¼ëŠ” ì„¼ìŠ¤ë„ í•„ìš”"
        ]
      },
      9: {
        loveScore: 90,
        basic: "ì§€ì +ë…ë¦½, í†µì°°ë ¥ êµ¿",
        love: "ê¹Šê³  ì§‘ì¤‘ì , ê·¼ë° ì§‘ì°© ìƒê¸¸ ìˆ˜ë„",
        style: "í˜¼ì ìƒê° ë§ì•„ì„œ ìƒëŒ€ì—ê²Œ ë‹µë‹µí•¨ ì¤„ ìˆ˜ ìˆìŒ",
        additional: "ì§ê´€ ë›°ì–´ë‚˜ë©°, í•œë²ˆ ê½‚íˆë©´ ì˜¬ì¸",
        loveAdviceArr: [
          "ìƒëŒ€ ìˆ¨í†µì„ ì¢€ ì—´ì–´ì£¼ìê³ ! ì§‘ì°©ì€ ìœ„í—˜~",
          "ì—¬ìœ ë¥¼ ê°–ì¶”ë©´ ë” ë©‹ì ¸ ë³´ì¸ë‹¤ë‹ˆê¹Œìš”?"
        ],
        compatAdviceArr: [
          "ìƒëŒ€ë°© ê°€ì¹˜ê´€ë„ ì¡´ì¤‘, ë„ˆë¬´ ë‚´ ë°©ì‹ë§Œ ê³ ì§‘ ë§ê¸°",
          "ê°€ë³ê²Œ ì›ƒê³  ë– ë“œëŠ” ì‹œê°„ë„ ë•Œë¡  í•„ìš”!"
        ]
      },
      10: {
        loveScore: 88,
        basic: "ê°ì„±ì +ë³€ë•ìŠ¤ëŸ¬ìš´ ë©´ ìˆìŒ",
        love: "ê°ì • ê¸°ë³µì´ ê½¤ ì»¤ì„œ ë¡¤ëŸ¬ì½”ìŠ¤í„° ì—°ì•  ê°€ëŠ¥ì„±",
        style: "ì—´ì • í­ë°œ, ê·¼ë° ì˜¤ë˜ ê°ˆì§€ëŠ” ë¯¸ì§€ìˆ˜",
        additional: "ê²°ì •ì  ìˆœê°„ì— ì¶”ì§„ë ¥ ë¯¸ì³¤ìŒ",
        loveAdviceArr: [
          "ê°‘ì‘ìŠ¤ëŸ° ê¸°ë¶„ ë³€í™”ë¥¼ ì˜ ì»¨íŠ¸ë¡¤í•´ì•¼ ì•ˆì •ê° ìƒê¹ë‹ˆë‹¤!",
          "ë³€ë•ë„ ì˜ˆê³ í•´ì£¼ë©´ ìƒëŒ€ê°€ ìˆ˜ìš©í•˜ê¸° í¸í•´ìš”!"
        ],
        compatAdviceArr: [
          "ì„œë¡œ ê°ì • ìƒíƒœë¥¼ ìˆ˜ì‹œë¡œ ì ê²€, ê³µê° í•„ìˆ˜!",
          "ì—´ì • ë¶ˆê½ƒì´ ì‹ì§€ ì•Šë„ë¡ ì‘ì€ ì´ë²¤íŠ¸ ì£¼ê¸°ì ìœ¼ë¡œ!"
        ]
      },
      11: {
        loveScore: 86,
        basic: "ì •ì˜+ê· í˜• ê°ê° ìƒë‹¹íˆ ì¢‹ìŒ",
        love: "ê³µí‰Â·ì´ì„±ì ì´ë¼ ê¸°ë¸Œì•¤í…Œì´í¬ ì¤‘ì‹œ",
        style: "í‰ë“±í•œ ì‚¬ë‘ì„ ì¶”êµ¬",
        additional: "ìŠ¤ìŠ¤ë¡œì—ê²Œ ì—„ê²©í•´ ê°€ë” ë²ˆì•„ì›ƒ ì˜¬ ìˆ˜ë„",
        loveAdviceArr: [
          "ë„ˆë¬´ ì˜¬ë°”ë¥´ê¸°ë§Œ í•˜ë©´ ì¬ë¯¸ì—†ì„ ìˆ˜ ìˆì–´ìš”! ê°ì •ì  ë©´ë„ ë³´ì—¬ì£¼ì~",
          "ì™„ë²½ì£¼ì˜ëŠ” ë•Œë¡  ë…ì´ ë¨! ì‹¤ìˆ˜ë„ ì¸ê°„ì  ë§¤ë ¥ì´ë¼ëŠ” ê±¸~"
        ],
        compatAdviceArr: [
          "ë°°ë ¤ì™€ ìœµí†µì„±ì„ ë™ì‹œì— ì±™ê¸°ë©´ ê¶í•© ê¸‰ìƒìŠ¹!",
          "ì¦‰í¥ì ìœ¼ë¡œ ë‹¬ë ¤ë³´ëŠ” ë¡œë§¨ìŠ¤ë„ ì–‘ë…ì´ ë©ë‹ˆë‹¤!"
        ]
      }
    };

    // ë¬´ì‘ìœ„ë¡œ í•˜ë‚˜ ë½‘ê¸°
    function pickRandom(arr) {
      if (!arr || arr.length === 0) return "";
      const idx = Math.floor(Math.random() * arr.length);
      return arr[idx];
    }

    // ì´ë¦„ -> ë²ˆí˜¸ ë°°ì—´
    function getNumberArray(fullName) {
      const arr = [];
      for (let ch of fullName) {
        if (nameToNumber[ch] !== undefined) {
          arr.push(nameToNumber[ch]);
        }
      }
      return arr;
    }

    // ì¢…í•© ê²°ê³¼
    function getCombinedResult(fullName) {
      const numbers = getNumberArray(fullName);
      if (!numbers.length) return null;

      let totalScore = 0;
      let basics = [];
      let loves = [];
      let styles = [];
      let addls = [];

      let loveAdvicePicked = [];
      let compatAdvicePicked = [];

      numbers.forEach(num => {
        const info = numberInfo[num];
        if (info) {
          totalScore += info.loveScore;
          basics.push(info.basic);
          loves.push(info.love);
          styles.push(info.style);
          addls.push(info.additional);

          // ì¡°ì–¸ ì¤‘ ëœë¤ í•˜ë‚˜ì”© ë½‘ê¸°
          const pickLove = pickRandom(info.loveAdviceArr);
          const pickCompat = pickRandom(info.compatAdviceArr);
          if (pickLove) loveAdvicePicked.push(pickLove);
          if (pickCompat) compatAdvicePicked.push(pickCompat);
        }
      });

      const avgScore = Math.round(totalScore / numbers.length);

      // ì¤‘ë³µ ì œê±°
      const setBasic = Array.from(new Set(basics));
      const setLove = Array.from(new Set(loves));
      const setStyle = Array.from(new Set(styles));
      const setAddl = Array.from(new Set(addls));

      // ê¹€êµ¬ë¼ì‹ ì½”ë¯¹ ìš”ì•½
      const sentence1 = `ì ë³´ë‹ˆê¹Œ, ëŒ€ì²´ë¡œ <strong>${setBasic.join(", ")}</strong> ìš”ëŸ° ëŠë‚Œì´ ê¹”ë ¸ê³ ,`;
      const sentence2 = `ì—°ì•  ìª½ë„ <strong>${setLove.join(", ")}</strong> ì„±í–¥ì´ í™• ë³´ì´ëŠ”êµ°ìš”?`;
      const sentence3 = `ê²Œë‹¤ê°€ <strong>${setStyle.join(", ")}</strong> íŠ¹ìœ ì˜ ë¬´ë“œë¥¼ í’ê¸°ê³ ,`;
      const sentence4 = `<strong>${setAddl.join(", ")}</strong> ì´ë¼ëŠ” ì ë„ ìŠ¬ì© ë“œëŸ¬ë‚©ë‹ˆë‹¤ì‰~`;

      const summaryText = `${sentence1} ${sentence2} ${sentence3} ${sentence4}`;

      return {
        name: fullName,
        avgScore,
        summaryText,
        loveAdviceList: loveAdvicePicked,
        compatAdviceList: compatAdvicePicked
      };
    }

    // ê¶í•© ì ìˆ˜ ê³„ì‚°
    function getCompatibility(score1, score2) {
      let diff = Math.abs(score1 - score2);
      let val = 100 - diff * 5;
      if (val < 50) val = 50;
      return val;
    }

    // ì¬íšŒ í™•ë¥ 
    function getReunionProbability(score1, score2) {
      let raw = Math.round(((score1 + score2) / 2) + 5);
      if (raw < 50) raw = 50;
      if (raw > 100) raw = 100;
      return raw;
    }

    // ì¬íšŒ ì½”ë©˜íŠ¸
    function getReunionComment(score) {
      if (score >= 90) {
        return `ì™€ìš°, ì¬íšŒ ê°€ëŠ¥ì„±ì´ <strong>${score}%</strong>? 
                ì´ ì •ë„ë©´ ê·¸ëƒ¥ <strong>â€œí—¤ì–´ì¡Œë˜ ê²Œ ì‹¤ìˆ˜â€</strong>ì˜€ë‹¤ëŠ” ì†Œë¦¬ì¸ë°ìš”? 
                ì§€ê¸ˆ ë‹¹ì¥ ì—°ë½í•´ë„ ë¬´ë¦¬ ì—†ê² ëŠ”ë°!`;
      } else if (score >= 75) {
        return `ì¬íšŒ í™•ë¥ ì´ <strong>${score}%</strong>ë¼ë‹ˆ, 
                <strong>â€œì¡°ê¸ˆë§Œ ë…¸ë ¥í•˜ë©´ ë‹¤ì‹œ ë¶™ì„ ìˆ˜ ìˆë‹¤â€</strong> ì •ë„ë¡œ ë³´ì´ë„¤ìš”. 
                ìŠ¬ì© ë©”ì‹œì§€ ë‚ ë ¤ë³¼ íƒ€ì´ë°?`;
      } else {
        return `<strong>${score}%</strong>ë¼... 
                ê¸€ì„, ì•„ì§ ê°€ëŠ¥ì„±ì´ ì•„ì£¼ ë‚®ì§€ëŠ” ì•Šì€ë°, 
                <strong>â€œì¡°ê¸ˆ ë” ì¸ë‚´ì‹¬â€</strong>ì´ í•„ìš”í•  ë“¯í•©ë‹ˆë‹¤. 
                ê·¸ë˜ë„ ì„¸ìƒì‚¬ ëª¨ë¥´ëŠ” ê±°ì£ .`;
      }
    }

    // ì¬íšŒ íŒ
    const reunionTips = [
      "SNS ì—¼íƒ ê·¸ë§Œ! ì§„ì§œë¡œ ì´ì•¼ê¸°í•˜ê³  ì‹¶ë‹¤ë©´ ì†”ì§í•˜ê²Œ ë‹¤ê°€ê°€ì„¸ìš”.",
      "ì˜› ì¶”ì–µ â€˜ì•„ ê·¸ë•Œ ì¢‹ì•˜ì§€â€™ ë©˜íŠ¸ë„ ë„ˆë¬´ ìì£¼ êº¼ë‚´ë©´ ë…ì´ ë  ìˆ˜ ìˆì–´ìš”. ì ë‹¹íˆ~",
      "ìƒëŒ€ê°€ ì ìˆ˜ íƒ€ë©´ ë‹µë‹µí•˜ê² ì§€ë§Œ, ê°•ìš”ë³´ë‹¨ ì´í•´í•˜ë ¤ëŠ” íƒœë„ê°€ í•„ìš”!",
      "ì„œë¡œ ì„œìš´í–ˆë˜ ë¶€ë¶„ì„ ì ì–´ë‘ì—ˆë‹¤ë©´, ëŒ€í™”í•  ë•Œ ì¦ê±°ìë£Œ(?)ë¡œ ì“°ì§€ ë§ˆì„¸ìš”!",
      "ê³µí†µ ì§€ì¸ì—ê²Œ ìƒí™© ì¤‘ê³„ëŠ” ì˜¤íˆë ¤ ì—­íš¨ê³¼ì¼ ìˆ˜ë„. í”„ë¼ì´ë²„ì‹œ ì¡´ì¤‘!",
      "ë‚´ ì¥ì ë§Œ ì–´í•„í•˜ëŠë¼ â€˜ê³¼ê±° ì˜ëª»â€™ì„ ë®ìœ¼ë©´ ì—­íš¨ê³¼! â€˜ë¯¸ì•ˆí•¨â€™ì„ ì‚´ì§ í‘œí˜„í•´ë„ ì¢‹ì•„ìš”.",
      "íƒ€ì´ë° ë§ì¶°ì„œ â€˜ê·¸ë•Œ ë„ˆ ìƒê°ë‚˜ë”ë¼â€™ ì´ëŸ° ì‹ìœ¼ë¡œ ë¬¸ìë¥¼ ë³´ë‚´ë³´ì„¸ìš”!",
      "ëŒ€í™” ì‹œ ê³¼ê±° ë¬¸ì œë¥¼ ê³„ì† ë„ì§‘ì–´ë‚´ê¸°ë³´ë‹¨ ìƒˆ ì‹œì‘ì²˜ëŸ¼ ì ‘ê·¼í•´ì•¼ ì¢‹ì•„ìš”!",
      "í˜¹ì‹œë¼ë„ ì•„ì§ë„ ë‚´ ë§ˆìŒì´ í™•ê³ í•˜ì§€ ì•Šë‹¤ë©´, ìƒëŒ€ì—ê²Œë„ ì‹œê°„ê³¼ ì—¬ìœ ê°€ í•„ìš”í•˜ê² ì£ ?",
      "ë¬´ì‘ì • ë‹¬ë ¤ë“¤ê¸°ë³´ë‹¨, â€˜ë„¤ê°€ ë¶ˆí¸í•˜ì§€ ì•Šì„ ì„ â€™ì—ì„œ ì‹ í˜¸ ë³´ë‚´ê¸°. ê·¸ê²ƒì´ ì˜ˆì˜!"
    ];

    // ê¹€êµ¬ë¼ í†¤ ì½”ë©˜íŠ¸
    function getKimguraComment(score) {
      if (score >= 90) {
        return `ì–´ì´ì¿ ì•¼, ì ìˆ˜ê°€ <strong>${score}ì </strong>? ì´ê±° ë­ <strong>â€œê²°í˜¼ê°â€</strong> ì¡íŒ ê±° ì•„ë‹Œê°€ìš”? 
                ì˜¤ëŠ˜ ë°˜ì§€ ì‚¬ëŸ¬ ê°€ë„ ì†ìƒ‰ì—†ê² ëŠ”ë°ìš”?`;
      } else if (score >= 75) {
        return `ì˜¤í˜¸ë¼ <strong>${score}ì </strong>ì´ë©´ ê½¤ ì¢‹ì€ë°ìš”~ 
                ì„œë¡œ ì„±ì§ˆ ì¢€ë§Œ ì¤„ì´ê³  ì–‘ë³´í•˜ë©´ <strong>â€œë ˆì•Œ ê½ëƒ¥ê½ëƒ¥â€</strong> ê°€ëŠ¥í•©ë‹ˆë‹¤!`;
      } else {
        return `ì•„ì´êµ¬, <strong>${score}ì </strong>ì´ë¼... 
                ë­, ì„¸ìƒì‚¬ ëª¨ë¥´ëŠ” ê±°ì£ ! ë…¸ë ¥í•˜ë©´ í˜¹ì‹œ ì••ë‹ˆê¹Œ? 
                ì˜†ì§‘ ê°•ì•„ì§€ë‘ ì¹œí•´ì§ˆ í™•ë¥ ë³´ë‹¨ ë†’ì„ ìˆ˜ë„ ìˆì–´ìš”!`;
      }
    }

    function analyzeLoveFortune() {
      const name1 = document.getElementById('userName1').value.trim();
      const name2 = document.getElementById('userName2').value.trim();

      if (!name1 || !name2) {
        alert('ë‘ ì‚¬ëŒì˜ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        return;
      }

      const result1 = getCombinedResult(name1);
      if (!result1) {
        alert(`ì´ë¦„ [${name1}]ì€(ëŠ”) ë¶„ì„í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤ì‰?`);
        return;
      }
      const result2 = getCombinedResult(name2);
      if (!result2) {
        alert(`ì´ë¦„ [${name2}]ì€(ëŠ”) ë¶„ì„í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤ì‰?`);
        return;
      }

      // ê¶í•© ì ìˆ˜
      const compScore = getCompatibility(result1.avgScore, result2.avgScore);
      document.getElementById('compatibilityScore').textContent = compScore;

      // ì²« ë²ˆì§¸ ì‚¬ëŒ ê²°ê³¼
      document.getElementById('analysis1').innerHTML = `
        <h2>${result1.name} ë‹˜</h2>
        <p><strong>ì• ì •ì ìˆ˜:</strong> <span class="highlight">${result1.avgScore}ì </span></p>
        <p>${result1.summaryText}</p>
        <div class="sub-title">ìˆ˜ë¹„í•™ ì—°ì•  ì¡°ì–¸</div>
        <ul>
          ${result1.loveAdviceList.map(ad => `<li>${ad}</li>`).join("")}
        </ul>
      `;

      // ë‘ ë²ˆì§¸ ì‚¬ëŒ ê²°ê³¼
      document.getElementById('analysis2').innerHTML = `
        <h2>${result2.name} ë‹˜</h2>
        <p><strong>ì• ì •ì ìˆ˜:</strong> <span class="highlight">${result2.avgScore}ì </span></p>
        <p>${result2.summaryText}</p>
        <div class="sub-title">ìˆ˜ë¹„í•™ ì—°ì•  ì¡°ì–¸</div>
        <ul>
          ${result2.loveAdviceList.map(ad => `<li>${ad}</li>`).join("")}
        </ul>
      `;

      // ê¶í•© í–¥ìƒ ì¡°ì–¸
      const compatAll = [...result1.compatAdviceList, ...result2.compatAdviceList];
      const uniqueAdvices = Array.from(new Set(compatAll));
      document.getElementById('compatAdviceBox').innerHTML = `
        <h2>ìˆ˜ë¹„í•™ì´ ë‚´ë†“ì€ ê¶í•© ê°œì„  ê¿€íŒ</h2>
        <ul>
          ${uniqueAdvices.map(a => `<li>${a}</li>`).join("")}
        </ul>
      `;

      // ì¬íšŒ ê°€ëŠ¥ì„±
      const reunionScore = getReunionProbability(result1.avgScore, result2.avgScore);
      document.getElementById('reunionScore').textContent = reunionScore;
      const reComment = getReunionComment(reunionScore);

      // ë¬´ì‘ìœ„ 2~3ê°œ ë½‘ê¸°
      const tipCount = Math.floor(Math.random() * 2) + 2;
      let pickTips = [];
      for(let i=0; i<tipCount; i++){
        const tip = pickRandom(reunionTips);
        if(!pickTips.includes(tip)) pickTips.push(tip);
      }
      const tipsHtml = pickTips.map(t => `<li>${t}</li>`).join("");

      document.getElementById('reunionAdvice').innerHTML = `
        <p>${reComment}</p>
        <div style="margin-top:10px;font-weight:bold;">ì¬íšŒë¥¼ ìœ„í•´ ì´ëŸ° íŒì€ ì–´ë–¤ê°€ìš”?</div>
        <ul>
          ${tipsHtml}
        </ul>
      `;

      // ê¹€êµ¬ë¼ í†¤ ì½”ë©˜íŠ¸
      const comment = getKimguraComment(compScore);
      document.getElementById('kimguraComment').innerHTML = comment;

      // ê²°ê³¼ ë°•ìŠ¤ ë…¸ì¶œ
      document.getElementById('result').style.display = 'block';
    }
  </script>

</body>
</html>
